<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,viewport-fit=cover"/>
  <meta name="theme-color" content="#6c4df5">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>ðŸ“¦ Estoque de Materiais Headset</title>
  <style>
    :root{
      --fs: 100%;
      --ink:#0f1431; --ink2:#636aa0;
      --panel:#ffffff; --stroke:#efe9ff;
      --violet:#6a53f2; --accent:#22eacb; --pink:#ff5bb0;
      --shadow: 0 18px 48px rgba(106,83,242,.18), 0 6px 18px rgba(106,83,242,.12);
    }
    *{box-sizing:border-box}
    html{font-size: var(--fs);}
    body{
      margin:0; padding:0; background:#fff; color:var(--ink);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial;
      font-weight:700;
    }
    .wrap{max-width:1100px;margin:0 auto;padding:16px}

    header{display:flex;align-items:center;flex-direction:column;gap:8px;margin:10px 0 20px}
    .logo{width:90px;height:auto}
    h1{
      margin:0; line-height:1.05; text-align:center;
      font-size: clamp(1.6rem, 3vw + 1rem, 2.6rem);
      color:#1f39c4;
      text-shadow: 0 6px 18px rgba(106,83,242,.35);
    }
    .sub{color:var(--ink2); font-size:.9rem; text-align:center; margin-top:4px}

    .zoom{display:flex;gap:10px;justify-content:center;margin:12px 0}
    .zbtn{
      font-size: 1rem; padding:.35rem .6rem; border-radius:12px;
      border:2px solid var(--violet); color:var(--violet); background:#fff;
      cursor:pointer; box-shadow:var(--shadow);
    }

    .panel{background:var(--panel);border:1px solid var(--stroke);border-radius:18px;padding:16px;margin:14px 0;box-shadow:var(--shadow)}
    .panel h2{margin:0 0 10px;text-align:center;color:#6a53f2;font-size:1.6rem}

    footer{text-align:center;margin:20px 0;color:#8b8fb8;font-size:.9rem;font-weight:600}
    footer b{color:#0d0d44}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <img class="logo" src="logo.png" alt="Logo Headset Brasil">
      <h1>Estoque de Materiais Headset</h1>
      <div class="sub">Toque no produto, escolha <b>Tipo</b>, a quantidade e registre a movimentaÃ§Ã£o.</div>
    </header>

    <div class="zoom">
      <button class="zbtn" onclick="ajustarFonte(-1)">A-</button>
      <button class="zbtn" onclick="ajustarFonte(1)">A+</button>
    </div>

    <section class="panel">
      <h2>Produtos & Estoque</h2>
      <div id="conteudo">Carregando...</div>
    </section>

    <footer>Â© <b>HD TECH</b></footer>
  </div>

<script>
  let _fs = Number(localStorage.getItem('eh_fs')||'100');
  document.documentElement.style.setProperty('--fs', _fs + '%');
  function ajustarFonte(step){
    _fs = Math.min(240, Math.max(70, _fs + step*10));
    document.documentElement.style.setProperty('--fs', _fs + '%');
    localStorage.setItem('eh_fs', String(_fs));
  }

  // ðŸ”— Chamada da API do Google Apps Script que retorna JSON
  const API_URL = "https://script.google.com/macros/s/AKfycbxMtY3P5egk0xHFVEV5CyzxkbtLtfHF4pVdd7yTLGsCQbOlnS5B6XNHJbcmjaJ7Lsff0A/exec?act=listar";

  async function carregar(){
    try{
      const r = await fetch(API_URL);
      const data = await r.json();
      const html = data.map(item=>`
        <div style="border:1px solid #ddd;border-radius:12px;padding:12px;margin:10px 0;box-shadow:0 4px 12px rgba(0,0,0,.08)">
          <b>${item.nome}</b> â€” CÃ³d: ${item.codigo}<br>
          Estoque: ${item.estoque}
        </div>`).join('');
      document.getElementById('conteudo').innerHTML = html;
    }catch(e){
      document.getElementById('conteudo').innerHTML = "Erro ao carregar.";
    }
  }
  carregar();
</script>
</body>
</html>
